![img](assets/abstractfactory/abstract-factory.png)

# Abstract Factory
Provide an interface for creating families of related or dependent objects without specifying their concrete classes.

## ðŸŽ¯ à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸‚à¸­à¸‡ pattern à¸™à¸µà¹‰
**Abstract Factory** à¸ªà¸£à¹‰à¸²à¸‡à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡ object à¸—à¸µà¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¸à¸±à¸™ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸à¸³à¸«à¸™à¸”à¸§à¹ˆà¸²à¸•à¸±à¸§ class à¸—à¸µà¹ˆà¸™à¸³à¸¡à¸²à¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸£à¸´à¸‡à¹†à¸„à¸·à¸­à¸­à¸°à¹„à¸£

## âœŒ à¸«à¸¥à¸±à¸à¸à¸²à¸£à¹à¸šà¸šà¸ªà¸±à¹‰à¸™à¹†
1. **Abstract Factory** à¸ˆà¸°à¸à¸³à¸«à¸™à¸” interface à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ product à¹à¸•à¹ˆà¸¥à¸°à¸›à¸£à¸°à¹€à¸ à¸— à¹à¸¥à¸°à¸¡à¸µ abstract method à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ product à¸•à¹ˆà¸²à¸‡à¹†
1. Subclass à¹€à¸›à¹‡à¸™à¸„à¸™à¸à¸³à¸«à¸™à¸”à¹€à¸­à¸‡à¸§à¹ˆà¸² product à¸—à¸µà¹ˆà¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡à¹à¸•à¹ˆà¸¥à¸°à¸•à¸±à¸§ à¸ˆà¸°à¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸²à¸ class à¸•à¸±à¸§à¹„à¸«à¸™ à¸‹à¸¶à¹ˆà¸‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™ class à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
1. à¹€à¸¡à¸·à¹ˆà¸­ client à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ product à¸à¹‡à¸ˆà¸°à¸¡à¸²à¹€à¸£à¸µà¸¢à¸ Subclass à¹ƒà¸«à¹‰à¹„à¸›à¸ªà¸£à¹‰à¸²à¸‡ product à¸•à¹ˆà¸²à¸‡à¹†à¹ƒà¸«à¹‰

## ðŸ˜¢ à¸›à¸±à¸à¸«à¸²
à¸ªà¸¡à¸¡à¸¸à¸•à¸´à¸§à¹ˆà¸²à¹€à¸£à¸²à¸¡à¸µà¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸³à¸¥à¸­à¸‡à¸£à¹‰à¸²à¸™à¸‚à¸²à¸¢à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œà¸­à¸¢à¸¹à¹ˆà¸•à¸±à¸§à¸™à¸¶à¸‡ à¸‹à¸¶à¹ˆà¸‡à¸¡à¸µà¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¸­à¸¢à¸¹à¹ˆà¸§à¹ˆà¸²

1. à¸•à¸­à¸™à¸—à¸µà¹ˆà¸¥à¸¹à¸à¸„à¹‰à¸²à¸¡à¸²à¸”à¸¹à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œ à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹à¸ªà¸”à¸‡ `à¹€à¸à¹‰à¸²à¸­à¸µà¹‰`, `à¹‚à¸‹à¸Ÿà¸²`, `à¹‚à¸•à¹Šà¸°à¸à¸²à¹à¸Ÿ` à¹ƒà¸«à¹‰à¹€à¸‚à¸²à¸”à¸¹
1. à¸žà¸§à¸ `à¹€à¸à¹‰à¸²à¸­à¸µà¹‰`, `à¹‚à¸‹à¸Ÿà¸²`, `à¹‚à¸•à¹Šà¸°à¸à¸²à¹à¸Ÿ` à¹€à¸§à¸¥à¸²à¹€à¸­à¸²à¹‚à¸Šà¸§à¹Œà¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ à¹€à¸Šà¹ˆà¸™ `Modern`, `ArtDeco`, `Victorian`  
> **Note**  
**Modern** à¸ªà¸´à¸™à¸„à¹‰à¸²à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¸šà¹‰à¸²à¸™à¹†à¸—à¸±à¹ˆà¸§à¹„à¸›  
**ArtDeco** à¸ªà¸´à¸™à¸„à¹‰à¸²à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¸­à¸²à¸£à¹Œà¸•à¸ªà¸§à¸¢à¸‡à¸²à¸¡  
**Victorian** à¸ªà¸´à¸™à¸„à¹‰à¸²à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¸«à¸£à¸¹à¸«à¸£à¸²à¹„à¸®à¹‚à¸‹

![img](assets/abstractfactory/problem-en.png)

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¹€à¸§à¸¥à¸²à¹€à¸­à¸²à¸ªà¸´à¸™à¸„à¹‰à¸²à¸¡à¸²à¹à¸ªà¸”à¸‡ à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œ object à¸—à¸µà¹ˆà¸•à¸£à¸‡à¸à¸±à¸šà¸ªà¹„à¸•à¸¥à¹Œà¸—à¸µà¹ˆà¹€à¸‚à¸²à¹€à¸¥à¸·à¸­à¸

à¸¥à¸­à¸‡à¸ˆà¸´à¸™à¸•à¸™à¸²à¸à¸²à¸£à¸”à¸¹à¸–à¹‰à¸²à¹€à¸£à¸²à¸ªà¸£à¹‰à¸²à¸‡ object à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡à¸¡à¸±à¸™à¹„à¸›à¹‚à¸Šà¸§à¹Œà¹ƒà¸«à¹‰à¸¥à¸¹à¸à¸„à¹‰à¸²à¸”à¸¹ à¸¥à¸¹à¸à¸„à¹‰à¸²à¸ˆà¸°à¸à¸£à¸´à¹‰à¸§à¸‚à¸™à¸²à¸”à¹„à¸«à¸™à¸à¸±à¸™à¸™à¸°

![img](assets/abstractfactory/abstract-factory-comic-1-en.png)

à¸ˆà¸²à¸à¸ à¸²à¸žà¸ˆà¸°à¹€à¸«à¹‡à¸™à¹„à¸”à¹‰à¸§à¹ˆà¸²à¹‚à¸‹à¸Ÿà¸²à¸‚à¸­à¸‡ Modern à¹„à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¸à¸±à¸šà¹€à¸à¹‰à¸²à¸­à¸µà¹‰à¸ªà¹„à¸•à¸¥à¹Œ Victorian à¹€à¸¥à¸¢ à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸¥à¸¹à¸à¸„à¹‰à¸²à¸à¹‡à¹„à¸¡à¹ˆà¹à¸®à¸›à¸›à¸µà¹‰

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸™à¸±à¸à¸žà¸±à¸’à¸™à¸²à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸£à¸²à¸—à¸³à¸à¹‡à¸„à¸·à¸­à¸•à¹‰à¸­à¸‡à¹„à¸¡à¹ˆà¹€à¸‚à¸µà¸¢à¸™ code à¹ƒà¸«à¹‰à¹à¸ªà¸”à¸‡à¸œà¸¥à¸œà¸´à¸”à¸žà¸¥à¸²à¸” à¸–à¹‰à¸²à¹€à¸‚à¸²à¹€à¸¥à¸·à¸­à¸à¸ªà¹„à¸•à¸¥à¹Œà¹„à¸«à¸™à¸¡à¸² à¹€à¸£à¸²à¸à¹‡à¸•à¹‰à¸­à¸‡à¹€à¸­à¸²à¹€à¸‰à¸žà¸²à¸°à¸ªà¸´à¸™à¸„à¹‰à¸²à¸ªà¹„à¸•à¸¥à¹Œà¸™à¸±à¹‰à¸™à¹„à¸›à¹à¸ªà¸”à¸‡

à¹à¸•à¹ˆà¹€à¸£à¸²à¸‚à¸µà¹‰à¹€à¸à¸µà¸¢à¸ˆà¸—à¸µà¹ˆà¸ˆà¸°à¹à¸à¹‰à¹‚à¸„à¹‰à¸”à¹€à¸£à¸²à¸—à¸¸à¸à¸„à¸£à¸±à¹‰à¸‡à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸ªà¸´à¸™à¸„à¹‰à¸²à¹ƒà¸«à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¸¡à¸² à¸«à¸£à¸·à¸­ à¸¡à¸µà¸ªà¹„à¸•à¸¥à¹Œà¸­à¸·à¹ˆà¸™à¹†à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹à¸™à¹ˆà¸™à¸­à¸™ à¹à¸¥à¹‰à¸§à¹€à¸£à¸²à¸ˆà¸°à¸—à¸³à¸¢à¸±à¸‡à¹„à¸‡à¸”à¸µà¸¥à¸°?

## ðŸ˜„ à¸§à¸´à¸˜à¸µà¹à¸à¹‰à¹„à¸‚

à¸­à¸¢à¹ˆà¸²à¸‡à¹à¸£à¸à¹€à¸¥à¸¢ à¹€à¸£à¸²à¸•à¹‰à¸­à¸‡à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸›à¸£à¸°à¹€à¸ à¸—à¸ªà¸´à¸™à¸„à¹‰à¸²à¸‚à¸­à¸‡à¹€à¸£à¸²à¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸à¹ˆà¸­à¸™ à¸‹à¸¶à¹ˆà¸‡à¹‚à¸ˆà¸—à¸¢à¹Œà¸‚à¸­à¸‡à¹€à¸£à¸²à¸•à¸­à¸™à¸™à¸µà¹‰à¸à¹‡à¸ˆà¸°à¹à¸šà¹ˆà¸‡à¹€à¸›à¹‡à¸™ `à¹€à¸à¹‰à¸²à¸­à¸µà¹‰`, `à¹‚à¸‹à¸Ÿà¸²`, `à¹‚à¸•à¹Šà¸°à¸à¸²à¹à¸Ÿ`

à¹à¸¥à¹‰à¸§à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸™à¸±à¹‰à¸™à¹€à¸£à¸²à¸à¹‡à¸ˆà¸°à¹€à¸£à¸´à¹ˆà¸¡à¸ªà¸£à¹‰à¸²à¸‡ interface à¹ƒà¸«à¹‰à¸à¸±à¸šà¸žà¸§à¸à¸¡à¸±à¸™à¸•à¸²à¸¡à¹à¸•à¹ˆà¸¥à¸°à¸à¸¥à¸¸à¹ˆà¸¡à¸à¸±à¸™ à¹€à¸Šà¹ˆà¸™
* à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡à¹€à¸à¹‰à¸²à¸­à¸µà¹‰ à¸à¹‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹„à¸› implement `Chair interface` (à¸•à¸²à¸¡à¸£à¸¹à¸›à¸”à¹‰à¸²à¸™à¸¥à¹ˆà¸²à¸‡)
* à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡à¹‚à¸‹à¸Ÿà¸² à¸à¹‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹„à¸› implement `Sofa interface`
* à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡à¹‚à¸•à¹Šà¸°à¸à¸²à¹à¸Ÿ à¸à¹‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹„à¸› implement `CoffeeTable interface`

![img](assets/abstractfactory/solution1.png)

à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸—à¸µà¹ˆà¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸ªà¸´à¸™à¸„à¹‰à¸²à¹€à¸ªà¸£à¹‡à¸ˆ à¸–à¸±à¸”à¹„à¸›à¹€à¸£à¸²à¸à¹‡à¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡ interface à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¹„à¸•à¸¥à¹Œà¸‚à¸¶à¹‰à¸™à¸¡à¸²à¹‚à¸”à¸¢à¸¡à¸µ method à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹ƒà¸™à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ object à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¸à¸±à¸šà¸¡à¸±à¸™à¸£à¸§à¸¡à¸­à¸¢à¸¹à¹ˆà¸”à¹‰à¸§à¸¢ (à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸à¹‰à¸²à¸­à¸µà¹‰, à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸‹à¸Ÿà¸² à¹à¸¥à¸° à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸•à¹Šà¸°à¸à¸²à¹à¸Ÿ)

à¹‚à¸”à¸¢à¸—à¸µà¹ˆ method à¹€à¸«à¸¥à¹ˆà¸²à¸™à¸±à¹‰à¸™à¸ˆà¸° return `abstract object` à¸‚à¸­à¸‡à¸ªà¸´à¸™à¸„à¹‰à¸²à¸à¸¥à¸±à¸šà¸­à¸­à¸à¸¡à¸² à¸•à¸²à¸¡à¸£à¸¹à¸›

![img](assets/abstractfactory/solution2.png)

à¸‹à¸¶à¹ˆà¸‡à¸ˆà¸²à¸à¸ à¸²à¸ž à¸ˆà¸°à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸±à¸šà¸„à¸§à¸²à¸¡à¸«à¸¥à¸²à¸à¸«à¸¥à¸²à¸¢à¸‚à¸­à¸‡à¸ªà¸´à¸™à¸„à¹‰à¸²à¸à¸±à¸šà¸ªà¹„à¸•à¸¥à¹Œà¹„à¸”à¹‰à¹à¸¥à¹‰à¸§ à¹‚à¸”à¸¢à¸à¸²à¸£à¹à¸¢à¸à¸­à¸­à¸à¹€à¸›à¹‡à¸™ class à¸«à¸¥à¸²à¸¢à¹†à¸•à¸±à¸§ (class à¹à¸•à¹ˆà¸¥à¸°à¸•à¸±à¸§à¹€à¸£à¸µà¸¢à¸à¸§à¹ˆà¸² `factory`)

à¸‹à¸¶à¹ˆà¸‡à¹€à¸ˆà¹‰à¸² factory class à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸•à¸±à¸§à¸à¸³à¸«à¸™à¸”à¸§à¹ˆà¸²à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œà¸—à¸µà¹ˆà¸¡à¸±à¸™à¸ˆà¸°à¹€à¸­à¸²à¸¡à¸²à¹‚à¸Šà¸§à¹Œà¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¹„à¸«à¸™ à¹€à¸Šà¹ˆà¸™ `ModernFurnitureFactory` à¸à¹‡à¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œ object à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™à¸ªà¹„à¸•à¸¥à¹Œà¸šà¹‰à¸²à¸™à¹†à¸­à¸­à¸à¸¡à¸²à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

à¸‹à¸¶à¹ˆà¸‡à¸•à¸±à¸§à¹€à¸Ÿà¸­à¸£à¹Œà¸™à¸´à¹€à¸ˆà¸­à¸£à¹Œà¸ªà¹„à¸•à¸¥à¹Œà¸šà¹‰à¸²à¸™à¹†à¸à¹‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡ implement interface à¹à¸šà¸šà¸šà¹‰à¸²à¸™à¹†à¸”à¹‰à¸§à¸¢ à¹€à¸Šà¹ˆà¸™ à¹€à¸à¹‰à¸²à¸­à¸µà¹‰à¸ªà¹„à¸•à¸¥à¹Œ modern à¸à¹‡à¸ˆà¸°à¸•à¹‰à¸­à¸‡ implement `IModernChair` à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ à¸«à¸£à¸·à¸­ à¹€à¸à¹‰à¸²à¹‚à¸‹à¸Ÿà¸²à¸ªà¹„à¸•à¸¥à¹Œ modern à¸à¹‡à¸•à¹‰à¸­à¸‡ implement `IModernSofa` à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ à¹à¸¥à¸°à¸•à¹‰à¸­à¸‡à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹„à¸›à¸ªà¸£à¹‰à¸²à¸‡ object à¸ˆà¸²à¸ `IVictorianSofa` à¹„à¸”à¹‰

à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¹‡à¸™à¹à¸šà¸šà¸™à¸µà¹‰à¸¡à¸±à¸™à¸ˆà¸°à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¸£à¸­à¸‡à¸£à¸±à¸š factory à¹à¸šà¸šà¸­à¸·à¹ˆà¸™à¹†à¹„à¸”à¹‰ à¹€à¸Šà¹ˆà¸™ à¹€à¸¡à¸·à¹ˆà¸­à¸¡à¸µà¸ªà¹„à¸•à¸¥à¹Œà¸à¸£à¸µà¸à¹€à¸‚à¹‰à¸²à¸¡à¸²à¹ƒà¸«à¸¡à¹ˆ à¹€à¸£à¸²à¸à¹‡à¹à¸„à¹ˆ `Greek factory` à¹€à¸‚à¹‰à¸²à¹„à¸› à¹‚à¸›à¸£à¹à¸à¸£à¸¡à¸à¹‡à¸ˆà¸°à¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰ à¹‚à¸”à¸¢à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¹„à¸‚à¹‚à¸„à¹‰à¸”à¹€à¸”à¸´à¸¡à¹€à¸¥à¸¢

![img](assets/abstractfactory/abstract-factory-comic-2-en.png)

à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™à¹€à¸¡à¸·à¹ˆà¸­ client à¹„à¸”à¹‰ factory à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹à¸¥à¹‰à¸§ à¸¡à¸±à¸™à¸à¹‡à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸ªà¸™à¹ƒà¸ˆà¹€à¸¥à¸¢à¸§à¹ˆà¸² object à¹€à¸à¹‰à¸²à¸­à¸µà¹‰ à¸—à¸µà¹ˆà¸ˆà¸°à¹„à¸”à¹‰à¸£à¸±à¸šà¸ˆà¸°à¸–à¸¹à¸à¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸²à¸ class à¹„à¸«à¸™

à¹€à¸žà¸£à¸²à¸°à¸¡à¸±à¸™à¸à¸¥à¸²à¸¢à¹€à¸›à¹‡à¸™ abstract `Chair interface` à¹„à¸›à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§ à¸”à¸±à¸‡à¸™à¸±à¹‰à¸™ client à¸à¹‡à¸¡à¸µà¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆà¹à¸„à¹ˆà¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰à¸‡à¸²à¸™ `sitOn()` à¸à¹‡à¸žà¸­

## ðŸ“Œ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸­à¸‡ pattern à¸™à¸µà¹‰
![img](assets/abstractfactory/structure.png)
> **à¸­à¸˜à¸´à¸šà¸²à¸¢**  
**Abstract Products** - (ProductA, ProductB) à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡ interface à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸Šà¹‰à¸ˆà¸³à¹à¸™à¸à¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡ `Product` (à¹€à¸Šà¹ˆà¸™ IChair, ISofa à¹à¸¥à¸° CoffeeTable)  
**Concrete Products** - (ConcreteProduct A1, A2, B1, B2) à¹€à¸›à¹‡à¸™ class à¸—à¸µà¹ˆà¸ˆà¸°à¸™à¸³à¸¡à¸²à¹ƒà¸Šà¹‰à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸›à¹‡à¸™ `Product`à¸—à¸µà¹ˆà¹à¸—à¹‰à¸ˆà¸£à¸´à¸‡ (à¹€à¸Šà¹ˆà¸™ ModernChair, VictorianChair)  
**Abstract Factory** - interface factory à¸•à¹‰à¸™à¹à¸šà¸š à¸‹à¸¶à¹ˆà¸‡à¸ˆà¸°à¸¡à¸µà¸à¸¥à¸¸à¹ˆà¸¡à¸‚à¸­à¸‡ method à¸—à¸µà¹ˆà¹€à¸­à¸²à¹„à¸§à¹‰à¸ªà¸£à¹‰à¸²à¸‡ product à¸•à¹ˆà¸²à¸‡à¹†  
**Concrete Factories** - (ConcreteFactory 1 & 2) à¹€à¸›à¹‡à¸™ class à¸—à¸µà¹ˆ implement abstract factory à¹€à¸žà¸·à¹ˆà¸­à¸à¸³à¸«à¸™à¸”à¸§à¹ˆà¸²à¸•à¸­à¸™ product à¸•à¹ˆà¸²à¸‡à¹†à¸ˆà¸°à¹ƒà¸Šà¹‰ class à¹„à¸«à¸™à¹€à¸›à¹‡à¸™à¸•à¸±à¸§à¸ªà¸£à¹‰à¸²à¸‡ à¹à¸¥à¸°à¸ˆà¸°à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸”à¹‰à¸§à¸¢ (family)

## ðŸ›  à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸™à¸³à¹„à¸›à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸à¸²à¸£à¸ˆà¸³à¸¥à¸­à¸‡à¹ƒà¸Šà¹‰ **Abstract Factory** à¹„à¸›à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸­à¸‡à¸•à¹ˆà¸²à¸‡à¹† (à¸›à¸¸à¹ˆà¸¡ à¹à¸¥à¸° checkbox) à¸—à¸µà¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰à¸—à¸±à¹‰à¸‡à¸šà¸™ Windows à¹à¸¥à¸° MacOS à¹‚à¸”à¸¢à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸—à¸³à¹ƒà¸«à¹‰ client à¸•à¹‰à¸­à¸‡à¹„à¸›à¸¢à¸¶à¸”à¸•à¸´à¸” (coupling) à¸à¸±à¸š UI class à¹à¸¥à¸°à¸‚à¸­à¸‡à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸­à¸­à¸à¸¡à¸²à¸à¹‡à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¹€à¸ªà¸¡à¸­ (à¸–à¹‰à¸²à¹€à¸›à¹‡à¸™ Windows à¹€à¸¡à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡ à¸›à¸¸à¹ˆà¸¡ à¸«à¸£à¸·à¸­ checkbox à¸ˆà¸°à¹„à¸”à¹‰ object à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ windows à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™ à¹„à¸¡à¹ˆà¸¡à¸µà¸—à¸²à¸‡à¸—à¸µà¹ˆà¸ˆà¸°à¹„à¸”à¹‰ MacOS object à¸à¸¥à¸±à¸šà¸¡à¸²à¹€à¸”à¹‡à¸”à¸‚à¸²à¸”)

![img](assets/abstractfactory/example.png)

1. à¸ˆà¸²à¸à¸ à¸²à¸žà¸ˆà¸°à¹€à¸«à¹‡à¸™à¸§à¹ˆà¸²à¹€à¸¡à¸·à¹ˆà¸­ client à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸ˆà¸°à¸ªà¸£à¹‰à¸²à¸‡à¸›à¸¸à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™à¸¡à¸²à¸‹à¸±à¸à¸›à¸¸à¹ˆà¸¡ à¸à¹‡à¹€à¸žà¸µà¸¢à¸‡à¹à¸„à¹ˆà¹€à¸¥à¸·à¸­à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸—à¸³à¸‡à¸²à¸™à¸à¸±à¸š `WinFactory` à¸«à¸£à¸·à¸­ `MacFactory` à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™
1. à¹€à¸¡à¸·à¹ˆà¸­ client à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸›à¸¸à¹ˆà¸¡ à¸à¹‡à¹€à¸žà¸µà¸¢à¸‡à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰ `createButton` à¹€à¸£à¸²à¸à¹‡à¸ˆà¸°à¹„à¸”à¹‰ Button object à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡à¸à¸±à¸š environment à¸‚à¸­à¸‡à¹€à¸£à¸²à¹„à¸›à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸•à¹ˆà¸­à¹„à¸”à¹‰à¹€à¸¥à¸¢

## ðŸ‘ à¸‚à¹‰à¸­à¸”à¸µ
* product à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸à¸¥à¸±à¸šà¸¡à¸²à¹€à¸›à¹‡à¸™à¸à¸¥à¸¸à¹ˆà¸¡à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™à¸à¸±à¸š factory à¸—à¸µà¹ˆà¹€à¸¥à¸·à¸­à¸
* à¸¥à¸”à¸à¸²à¸£à¹€à¸à¸´à¸” `tight coupling` à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ **product** à¸à¸±à¸š **client**
* à¸–à¸¹à¸à¸«à¸¥à¸±à¸ `Single Responsibility Principle`
* à¸–à¸¹à¸à¸«à¸¥à¸±à¸ `Open/Closed Principle`

## ðŸ‘Ž à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢
* à¹€à¸žà¸´à¹ˆà¸¡à¸„à¸§à¸²à¸¡à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¹ƒà¸«à¹‰à¸à¸±à¸šà¹‚à¸„à¹‰à¸” à¹€à¸žà¸£à¸²à¸°à¸•à¹‰à¸­à¸‡à¹„à¸›à¸ªà¸£à¹‰à¸²à¸‡ class à¹à¸¥à¸° interface à¸¡à¸²à¸à¸¡à¸²à¸¢

## ðŸ“ Code à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
```
using System;

// Factories
interface IFurnitureFactory
{
    IChair CreateChair();
    ICoffeeTable CreateCoffeeTable();
}
class VictorianFurnitureFactory : IFurnitureFactory
{
    public IChair CreateChair()
        => new VictorianChair();

    public ICoffeeTable CreateCoffeeTable()
        => new VictorianCoffeeTable();
}
class ModernFurnitureFactory : IFurnitureFactory
{
    public IChair CreateChair()
        => new ModernChair();

    public ICoffeeTable CreateCoffeeTable()
        => new ModernCoffeeTable();
}

// Products
interface IChair
{
    string SitOn();
}
class VictorianChair : IChair
{
    public string SitOn()
        => "Sitting on victorian chair";
}
class ModernChair : IChair
{
    public string SitOn()
        => "Sitting on modern chair";
}

interface ICoffeeTable
{
    string SomeUsefulFunction();
}
class VictorianCoffeeTable : ICoffeeTable
{
    public string SomeUsefulFunction()
        => "Do something on victorian coffee table";
}
class ModernCoffeeTable : ICoffeeTable
{
    public string SomeUsefulFunction()
        => "Do something on modern coffee table";
}

// Client
class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("1.Testing client code with the first factory type...");
        ClientMethod(new VictorianFurnitureFactory());

        Console.WriteLine("2.Testing the same client code with the second factory type...");
        ClientMethod(new ModernFurnitureFactory());
    }

    static void ClientMethod(IFurnitureFactory factory)
    {
        var chairProduct = factory.CreateChair();
        Console.WriteLine(chairProduct.SitOn());

        var tableProduct = factory.CreateCoffeeTable();
        Console.WriteLine(tableProduct.SomeUsefulFunction());
    }
}
```

**Output**
```
1.Testing client code with the first factory type...
Sitting on victorian chair
Do something on victorian coffee table
2.Testing the same client code with the second factory type...
Sitting on modern chair
Do something on modern coffee table
```

# Credit
https://refactoring.guru  
You can buy his book by click the image below.  
[![img](https://refactoring.guru/images/patterns/book/web-cover-en.png)](https://refactoring.guru/design-patterns/book#buy-now)  